"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Clipboard = void 0;
const bus_1 = require("./bus");
const clipboard_1 = require("./proto/clipboard");
var Clipboard;
(function (Clipboard) {
    function mapContent(content) {
        let ct = clipboard_1.ClipboardContent.create();
        if (typeof content != "object") {
            ct.text = `${content}`;
        }
        else {
            if (content["file"]) {
                ct.path = { path: content["file"] };
            }
            else if (content["html"]) {
                ct.html = { html: content["html"], text: content["text"] };
            }
            else {
                ct.text = content["text"];
            }
        }
        return ct;
    }
    async function copy(text, options = {}) {
        await bus_1.bus.turboRequest("clipboard.copy", {
            content: mapContent(text),
            options: { concealed: options.concealed ?? false },
        });
    }
    Clipboard.copy = copy;
    async function paste(text) {
        await bus_1.bus.turboRequest("clipboard.paste", {
            content: mapContent(text),
        });
    }
    Clipboard.paste = paste;
    async function read(options) {
        throw new Error('Clipboard.read not implemented');
    }
    Clipboard.read = read;
    async function readText(options) {
        throw new Error('Clipboard.readText not implemented');
    }
    Clipboard.readText = readText;
    async function clear(text) {
        throw new Error('Clibpoard.clear not implemented');
    }
    Clipboard.clear = clear;
})(Clipboard || (exports.Clipboard = Clipboard = {}));
